# Test Error type fields

# raise with full Error constructor
pub result = try {
  raise Error(message: "not found", path: ["query", "user"])
} catch { err =>
  err.message
}

assert { result == "not found" }

# error path can be set
pub pathResult = try {
  raise Error(message: "err", path: ["a", "b"])
} catch { err =>
  err.path
}

assert { pathResult == ["a", "b"] }

# error path defaults to empty list
pub defaultPath = try {
  raise "simple error"
} catch { err =>
  err.path
}

assert { defaultPath == [] }

# error message from a string raise
pub msgResult = try {
  raise "kaboom"
} catch { err =>
  err.message
}

assert { msgResult == "kaboom" }

print("Error field tests passed!")
