# Test parameter precedence with deep assignment

cls TestClass {
  pub config = "receiver_config"
  pub field = "original_field"

  pub new: TestClass! {
    self
  }

  pub method(config: String!): TestClass! {
    # Using new deep assignment syntax
    # self.field should refer to receiver field
    # config should refer to parameter (lexical scope)
    self.field = config  # Should use parameter "param_config"
    self
  }
}

# Test that parameter is used in deep assignment
pub result = TestClass.new.method("param_config")
assert { result.field == "param_config" }

print("Deep assignment parameter precedence test passed!")
