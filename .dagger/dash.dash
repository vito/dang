cls Dash {
  pub source: Directory!

  pub new(
    source: Directory!
  ): Dash! {
    self.source = source
    self
  }

  pub build(): File! {
    go(self.source).binary("./cmd/dash")
  }

  pub test(): Container! {
    go(self.source).base.
      withDirectory("/src", self.source).
      withWorkdir("/src").
      withExec(["go", "test", "-v", "./..."], experimentalPrivilegedNesting: true)
  }
}
